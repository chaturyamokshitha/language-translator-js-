<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="output.css">
</head>
<body class="flex items-center justify-center bg-blue-700">
    <script src="https://kit.fontawesome.com/9f5026aa16.js" crossorigin="anonymous"></script>

    <div class="bg-white p-4 rounded-md">
        <div class="md:flex ">
            <textarea id="input" rows="10"  class=" border-gray-400 border-2 outline-none w-full  " placeholder="Enter your text" ></textarea>
            <textarea id="output" rows="10"  class="border-gray-400 border-2 outline-none w-full " placeholder="Translation" readonly disabled></textarea>
        </div>
        <ul class="controls  border-gray-400 border-2 p-4 md:p-6">
            <li class="row flex flex-row justify-between ">
                <div class="icons">
                    <i class="fa-solid fa-copy c mr-2 cf" style="color: #a0a2a7;"></i>
                <i class="fa-solid fa-volume-high v vf" style="color: #a0a2a7;"></i>
               
                </div>
                <select class=" "> 
                   
                </select>
<i class="fa-solid fa-arrow-right-arrow-left r m-2" style="color: #a0a2a7;"></i>
            <select class="">
              
            </select>
            <div class="icons">
                <i class="fa-solid fa-volume-high mr-2 vt v" style="color: #a0a2a7;"></i>
                <i class="fa-solid fa-copy c ct" style="color: #a0a2a7;"></i>
            </div>
            </li>
        </ul>
        <div class=" flex flex-row mt-10 justify-between">
            <button class="h-10 bg-blue-600 block rounded-md w-32 text-white clear">clear</button>
        <button class="h-10 bg-blue-600 block  rounded-md w-32 text-white text">Translate Text</button>
            
    </div>
    </div>
    <script>
        
            const countries = {
                "am-ET": "Amharic",
                "ar-SA": "Arabic",
                "be-BY": "Bielarus",
                "bem-ZM": "Bemba",
                "bi-VU": "Bislama",
                "bjs-BB": "Bajan",
                "bn-IN": "Bengali",
                "bo-CN": "Tibetan",
                "br-FR": "Breton",
                "bs-BA": "Bosnian",
                "ca-ES": "Catalan",
                "cop-EG": "Coptic",
                "cs-CZ": "Czech",
                "cy-GB": "Welsh",
                "da-DK": "Danish",
                "dz-BT": "Dzongkha",
                "de-DE": "German",
                "dv-MV": "Maldivian",
                "el-GR": "Greek",
                "en-GB": "English",
                "es-ES": "Spanish",
                "et-EE": "Estonian",
                "eu-ES": "Basque",
                "fa-IR": "Persian",
                "fi-FI": "Finnish",
                "fn-FNG": "Fanagalo",
                "fo-FO": "Faroese",
                "fr-FR": "French",
                "gl-ES": "Galician",
                "gu-IN": "Gujarati",
                "ha-NE": "Hausa",
                "he-IL": "Hebrew",
                "hi-IN": "Hindi",
                "hr-HR": "Croatian",
                "hu-HU": "Hungarian",
                "id-ID": "Indonesian",
                "is-IS": "Icelandic",
                "it-IT": "Italian",
                "ja-JP": "Japanese",
                "kk-KZ": "Kazakh",
                "km-KM": "Khmer",
                "kn-IN": "Kannada",
                "ko-KR": "Korean",
                "ku-TR": "Kurdish",
                "ky-KG": "Kyrgyz",
                "la-VA": "Latin",
                "lo-LA": "Lao",
                "lv-LV": "Latvian",
                "men-SL": "Mende",
                "mg-MG": "Malagasy",
                "mi-NZ": "Maori",
                "ms-MY": "Malay",
                "mt-MT": "Maltese",
                "my-MM": "Burmese",
                "ne-NP": "Nepali",
                "niu-NU": "Niuean",
                "nl-NL": "Dutch",
                "no-NO": "Norwegian",
                "ny-MW": "Nyanja",
                "ur-PK": "Pakistani",
                "pau-PW": "Palauan",
                "pa-IN": "Panjabi",
                "ps-PK": "Pashto",
                "pis-SB": "Pijin",
                "pl-PL": "Polish",
                "pt-PT": "Portuguese",
                "rn-BI": "Kirundi",
                "ro-RO": "Romanian",
                "ru-RU": "Russian",
                "sg-CF": "Sango",
                "si-LK": "Sinhala",
                "sk-SK": "Slovak",
                "sm-WS": "Samoan",
                "sn-ZW": "Shona",
                "so-SO": "Somali",
                "sq-AL": "Albanian",
                "sr-RS": "Serbian",
                "sv-SE": "Swedish",
                "sw-SZ": "Swahili",
                "ta-LK": "Tamil",
                "te-IN": "Telugu",
                "tet-TL": "Tetum",
                "tg-TJ": "Tajik",
                "th-TH": "Thai",
                "ti-TI": "Tigrinya",
                "tk-TM": "Turkmen",
                "tl-PH": "Tagalog",
                "tn-BW": "Tswana",
                "to-TO": "Tongan",
                "tr-TR": "Turkish",
                "uk-UA": "Ukrainian",
                "uz-UZ": "Uzbek",
                "vi-VN": "Vietnamese",
                "wo-SN": "Wolof",
                "xh-ZA": "Xhosa",
                "yi-YD": "Yiddish",
                "zu-ZA": "Zulu"
            }
            
       const st=document.querySelectorAll("select");
      const bt=document.querySelector(".text");
      const int = document.querySelector("#input");
      const out = document.querySelector("#output");
      const r=document.querySelector(".r");
    const c = document.querySelectorAll(".c");
       const v = document.querySelectorAll(".v");
        const cl = document.querySelector(".clear");
           cl.addEventListener("click",()=>{int.value="";
            out.value="";
           }) 
c.forEach((m)=>{
m.addEventListener("click",()=>{
    if(m.classList.contains("cf"))
    {
       navigator.clipboard.writeText(int.value)
         alert('copied from');
    }
    else
    {
        navigator.clipboard.writeText(out.value);
         alert('copied to');
    }
   
    
   
    
})
})
v.forEach((n)=>{
    n.addEventListener("click",()=>{
        let utt;
        if(n.classList.contains("vf"))
        {
        utt=new SpeechSynthesisUtterance(int.value);
        utt.lang=st[0].value;
        }
        else
        {
            utt = new SpeechSynthesisUtterance(out.value);
            utt.lang=st[1].value;
        }
        speechSynthesis.speak(utt);
    })
})
       st.forEach((t,i)=>{
        for(country in countries)
        {
            let selected;
            if(i==0 && country=="en-GB")
            {
                selected="selected";
            }
            else if(i==1 && country=="te-IN"){
            selected = "selected";
            }
            
            let option=`<option value="${country}" ${selected}>${countries[country]}</option>`;
          t.insertAdjacentHTML("beforeend",option);
        }
    })
   
     r.addEventListener("click", () => {
        let temp=st[0].value;
            st[0].value = st[1].value;
            st[1].value=temp;
            let tet=int.value;
            int.value=out.value;
            out.value=tet;
        })
     bt.addEventListener("click", () => {
        console.log("clicked");
let text=int.value;
tf=st[0].value;
         tt=st[1].value;
         	
     


let apiurl=`https://api.mymemory.translated.net/get?q=${text}&langpair=${tf}|${tt})`;
       
        fetch(apiurl).then(res=> res.json()).then(d => {
          
          out.value= d.responseData.translatedText;
         

           
        });
         });
    
    </script>
</body>
</html>